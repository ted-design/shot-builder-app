<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Phase 7b — Crew Management Desktop Mockup</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: { sans: ['Inter', 'ui-sans-serif', 'system-ui'] },
          fontSize: {
            'xxs': '11px',
            '2xs': '10px',
            '3xs': '9px',
          },
          colors: {
            sidebar: '#09090b',
            'sidebar-border': '#27272a',
            'sidebar-hover': '#27272a',
            'sidebar-active': '#3f3f46',
            primary: { DEFAULT: '#18181b', dark: '#09090b' },
            accent: { DEFAULT: '#E31E24', dark: '#c91920' },
            neutral: {
              50: '#fafafa', 100: '#f4f4f5',
              200: '#e4e4e7', 300: '#d4d4d8',
              400: '#a1a1aa', 500: '#71717a',
              600: '#52525b', 700: '#3f3f46',
              800: '#27272a', 900: '#18181b',
              950: '#09090b',
            },
          },
        },
      },
    }
  </script>
  <style>
    *, *::before, *::after { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: 'Inter', ui-sans-serif, system-ui, sans-serif;
      background: #fafafa;
      color: #18181b;
      font-size: 14px;
      line-height: 1.5;
    }

    /* ── Sidebar ── */
    .app-sidebar {
      position: fixed;
      top: 0; left: 0; bottom: 0;
      width: 240px;
      background: #09090b;
      border-right: 1px solid #27272a;
      display: flex;
      flex-direction: column;
      z-index: 50;
    }

    .sidebar-logo {
      padding: 20px 16px 16px;
      display: flex;
      align-items: center;
      gap: 10px;
      border-bottom: 1px solid #27272a;
    }

    .sidebar-logo-mark {
      width: 28px; height: 28px;
      background: #E31E24;
      border-radius: 6px;
      display: flex; align-items: center; justify-content: center;
      font-weight: 700; font-size: 14px; color: #fff;
    }

    .sidebar-logo-text {
      font-size: 15px; font-weight: 600; color: #fff;
      letter-spacing: -0.02em;
    }

    .sidebar-nav { flex: 1; overflow-y: auto; padding: 12px 8px; }

    .sidebar-section-label {
      font-size: 10px; font-weight: 600; letter-spacing: 0.08em;
      text-transform: uppercase; color: #71717a; padding: 16px 12px 6px;
    }

    .nav-item {
      display: flex; align-items: center; gap: 10px;
      padding: 8px 12px; border-radius: 6px;
      color: #a1a1aa; font-size: 13px; font-weight: 500;
      cursor: pointer; transition: all 120ms ease;
      position: relative;
      text-decoration: none;
    }
    .nav-item:hover { background: #27272a; color: #d4d4d8; }
    .nav-item.active { background: #3f3f46; color: #ffffff; }
    .nav-item.active::before {
      content: '';
      position: absolute; left: -8px; top: 4px; bottom: 4px; width: 3px;
      border-radius: 0 2px 2px 0; background: #E31E24;
    }

    .nav-icon { width: 18px; height: 18px; opacity: 0.7; flex-shrink: 0; }
    .nav-item.active .nav-icon { opacity: 1; }

    .sidebar-user {
      padding: 12px 16px;
      border-top: 1px solid #27272a;
      display: flex; align-items: center; gap: 10px;
    }
    .sidebar-avatar {
      width: 32px; height: 32px; border-radius: 50%;
      background: #3f3f46; display: flex; align-items: center; justify-content: center;
      font-size: 12px; font-weight: 600; color: #fff;
    }
    .sidebar-user-name { font-size: 13px; font-weight: 500; color: #fff; }
    .sidebar-user-role { font-size: 11px; color: #71717a; }

    /* ── Main content ── */
    .main-content {
      margin-left: 240px;
      min-height: 100vh;
    }

    /* ── Page header ── */
    .page-header {
      padding: 24px 32px 0;
    }
    .breadcrumb {
      font-size: 13px; color: #71717a; margin-bottom: 4px;
      display: flex; align-items: center; gap: 6px;
    }
    .breadcrumb a {
      color: #71717a; text-decoration: none;
      transition: color 120ms;
    }
    .breadcrumb a:hover { color: #18181b; }
    .breadcrumb-sep { color: #a1a1aa; }
    .breadcrumb-current { color: #52525b; font-weight: 500; }

    .page-title {
      font-size: 24px; font-weight: 300; letter-spacing: -0.02em;
      color: #18181b; margin: 0;
    }

    /* ── Toolbar ── */
    .toolbar {
      padding: 20px 32px;
      display: flex; align-items: center; justify-content: space-between;
      gap: 16px;
    }

    .search-input {
      width: 300px; padding: 8px 12px 8px 36px;
      border: 1px solid #e4e4e7; border-radius: 8px;
      font-size: 13px; font-family: inherit; color: #18181b;
      background: #fff;
      transition: border-color 150ms, box-shadow 150ms;
      outline: none;
    }
    .search-input::placeholder { color: #a1a1aa; }
    .search-input:focus { border-color: #18181b; box-shadow: 0 0 0 1px #18181b; }

    .search-wrapper { position: relative; }
    .search-icon {
      position: absolute; left: 10px; top: 50%; transform: translateY(-50%);
      color: #a1a1aa; pointer-events: none;
    }

    .btn-primary {
      padding: 8px 16px; border-radius: 8px;
      font-size: 13px; font-weight: 500; font-family: inherit;
      cursor: pointer; border: none;
      background: #18181b; color: #fff;
      transition: background 120ms;
      display: flex; align-items: center; gap: 6px;
    }
    .btn-primary:hover { background: #27272a; }

    /* ── Master-detail ── */
    .master-detail {
      display: flex;
      margin: 0 32px 32px;
      border: 1px solid #e4e4e7;
      border-radius: 8px;
      background: #fff;
      overflow: hidden;
      min-height: calc(100vh - 180px);
    }

    /* ── Left rail ── */
    .crew-list {
      width: 280px;
      border-right: 1px solid #e4e4e7;
      overflow-y: auto;
      flex-shrink: 0;
    }

    .crew-list-header {
      padding: 12px 16px;
      border-bottom: 1px solid #f4f4f5;
      font-size: 11px; font-weight: 600; letter-spacing: 0.05em;
      text-transform: uppercase; color: #a1a1aa;
    }

    .crew-item {
      padding: 12px 16px;
      cursor: pointer;
      border-left: 2px solid transparent;
      transition: background 120ms, border-color 120ms;
    }
    .crew-item:hover { background: #f4f4f5; }
    .crew-item.selected {
      background: #f4f4f5;
      border-left-color: #18181b;
    }
    .crew-item + .crew-item { border-top: 1px solid #f4f4f5; }

    .crew-item-name {
      font-size: 14px; font-weight: 500; color: #18181b;
      margin-bottom: 2px;
    }
    .crew-item-meta {
      font-size: 12px; color: #71717a;
      display: flex; align-items: center; gap: 0;
    }
    .crew-item-meta .dot {
      width: 3px; height: 3px; border-radius: 50%;
      background: #d4d4d8; margin: 0 6px;
      flex-shrink: 0;
    }
    .crew-item-email {
      font-size: 12px; color: #a1a1aa;
      margin-top: 2px;
      white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    }

    /* ── Right canvas ── */
    .crew-detail {
      flex: 1;
      padding: 0;
      overflow-y: auto;
    }

    .detail-header {
      padding: 24px 28px 20px;
      border-bottom: 1px solid #f4f4f5;
    }
    .detail-name {
      font-size: 18px; font-weight: 600; letter-spacing: -0.01em;
      color: #18181b; margin: 0 0 10px;
    }
    .detail-badges { display: flex; gap: 8px; flex-wrap: wrap; }
    .badge {
      display: inline-flex; align-items: center;
      padding: 3px 10px; border-radius: 100px;
      font-size: 11px; font-weight: 500;
      background: #f4f4f5; color: #3f3f46;
      border: 1px solid #e4e4e7;
    }
    .badge-department {
      background: #eff6ff; color: #1d4ed8; border-color: #bfdbfe;
    }
    .badge-position {
      background: #f4f4f5; color: #52525b; border-color: #e4e4e7;
    }

    .detail-body { padding: 24px 28px; }

    .detail-section-title {
      font-size: 10px; font-weight: 600; letter-spacing: 0.05em;
      text-transform: uppercase; color: #a1a1aa;
      margin-bottom: 16px;
    }

    /* ── Info grid ── */
    .info-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
      margin-bottom: 32px;
    }
    .info-field { position: relative; }
    .info-field-group {
      display: flex; align-items: flex-start; gap: 10px;
    }
    .info-field-icon {
      width: 16px; height: 16px; color: #a1a1aa;
      flex-shrink: 0; margin-top: 1px;
    }
    .info-field-content { flex: 1; min-width: 0; }
    .info-label {
      font-size: 11px; font-weight: 500; color: #a1a1aa;
      margin-bottom: 2px; text-transform: uppercase; letter-spacing: 0.03em;
    }
    .info-value {
      font-size: 14px; color: #18181b;
      display: flex; align-items: center; gap: 6px;
    }
    .info-value a {
      color: #18181b; text-decoration: none;
      border-bottom: 1px solid #e4e4e7;
      transition: border-color 120ms;
    }
    .info-value a:hover { border-color: #18181b; }
    .info-value-empty {
      font-size: 13px; color: #a1a1aa; font-style: italic;
    }

    .edit-icon {
      width: 14px; height: 14px; color: #a1a1aa;
      opacity: 0; transition: opacity 120ms;
      cursor: pointer; flex-shrink: 0;
    }
    .info-field:hover .edit-icon { opacity: 1; }

    /* ── Notes section ── */
    .notes-section { margin-bottom: 32px; }
    .notes-read-mode {
      min-height: 80px; padding: 12px 16px;
      border: 1px dashed #e4e4e7; border-radius: 8px;
      font-size: 14px; color: #18181b; line-height: 1.6;
      cursor: pointer; transition: border-color 150ms, background 150ms;
    }
    .notes-read-mode:hover {
      border-color: #d4d4d8;
      background: #fafafa;
    }
    .notes-placeholder {
      color: #a1a1aa; font-style: italic;
    }

    /* ── Footer meta ── */
    .detail-footer {
      padding: 20px 28px;
      border-top: 1px solid #f4f4f5;
      display: flex; align-items: center; justify-content: space-between;
    }
    .detail-timestamp { font-size: 12px; color: #a1a1aa; }
    .btn-danger {
      padding: 6px 14px; border-radius: 6px;
      font-size: 13px; font-weight: 500; font-family: inherit;
      cursor: pointer; border: 1px solid #fecaca;
      background: #fff; color: #ef4444;
      transition: background 120ms, border-color 120ms;
      display: flex; align-items: center; gap: 6px;
    }
    .btn-danger:hover { background: #fef2f2; border-color: #fca5a5; }

    /* ── Modal overlay ── */
    .modal-overlay {
      position: fixed; inset: 0; z-index: 100;
      background: rgba(0,0,0,0.5);
      display: flex; align-items: center; justify-content: center;
      backdrop-filter: blur(2px);
    }
    .modal-overlay.hidden { display: none; }

    .modal {
      background: #fff;
      border-radius: 12px;
      width: 560px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0,0,0,0.15), 0 0 0 1px rgba(0,0,0,0.05);
    }

    .modal-header {
      padding: 20px 24px 16px;
      border-bottom: 1px solid #f4f4f5;
    }
    .modal-title {
      font-size: 18px; font-weight: 600; letter-spacing: -0.01em;
      color: #18181b; margin: 0;
    }
    .modal-description {
      font-size: 13px; color: #71717a; margin-top: 4px;
    }

    .modal-body { padding: 20px 24px; }

    .form-row { margin-bottom: 16px; }
    .form-row-double {
      display: grid; grid-template-columns: 1fr 1fr; gap: 12px;
      margin-bottom: 16px;
    }

    .form-label {
      font-size: 13px; font-weight: 500; color: #18181b;
      margin-bottom: 6px; display: block;
    }
    .form-label .required {
      color: #ef4444; margin-left: 2px;
    }

    .form-input {
      width: 100%; padding: 8px 12px;
      border: 1px solid #e4e4e7; border-radius: 8px;
      font-size: 14px; font-family: inherit; color: #18181b;
      background: #fff; outline: none;
      transition: border-color 150ms, box-shadow 150ms;
    }
    .form-input::placeholder { color: #a1a1aa; }
    .form-input:focus { border-color: #18181b; box-shadow: 0 0 0 1px #18181b; }

    .form-select {
      width: 100%; padding: 8px 12px;
      border: 1px solid #e4e4e7; border-radius: 8px;
      font-size: 14px; font-family: inherit; color: #18181b;
      background: #fff; outline: none; cursor: pointer;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23a1a1aa' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 10px center;
      padding-right: 32px;
      transition: border-color 150ms, box-shadow 150ms;
    }
    .form-select:focus { border-color: #18181b; box-shadow: 0 0 0 1px #18181b; }

    .form-textarea {
      width: 100%; padding: 8px 12px;
      border: 1px solid #e4e4e7; border-radius: 8px;
      font-size: 14px; font-family: inherit; color: #18181b;
      background: #fff; outline: none; resize: vertical;
      min-height: 80px;
      transition: border-color 150ms, box-shadow 150ms;
    }
    .form-textarea::placeholder { color: #a1a1aa; }
    .form-textarea:focus { border-color: #18181b; box-shadow: 0 0 0 1px #18181b; }

    .modal-footer {
      padding: 16px 24px;
      border-top: 1px solid #f4f4f5;
      display: flex; justify-content: flex-end; gap: 8px;
    }
    .btn-secondary {
      padding: 8px 16px; border-radius: 8px;
      font-size: 13px; font-weight: 500; font-family: inherit;
      cursor: pointer;
      border: 1px solid #e4e4e7; background: #fff; color: #52525b;
      transition: background 120ms, border-color 120ms;
    }
    .btn-secondary:hover { background: #f4f4f5; border-color: #d4d4d8; }

    /* ── Demo toggle ── */
    .demo-toggle {
      position: fixed; top: 16px; right: 16px; z-index: 200;
      display: flex; gap: 8px;
    }
    .demo-btn {
      padding: 8px 14px; border-radius: 8px;
      font-size: 12px; font-weight: 500; font-family: 'Inter', sans-serif;
      cursor: pointer;
      border: 1px solid #e4e4e7; background: #fff; color: #52525b;
      transition: all 120ms;
    }
    .demo-btn:hover { background: #f4f4f5; }
    .demo-btn.active { background: #18181b; color: #fff; border-color: #18181b; }

    /* Scrollbar styling */
    .crew-list::-webkit-scrollbar,
    .crew-detail::-webkit-scrollbar {
      width: 6px;
    }
    .crew-list::-webkit-scrollbar-track,
    .crew-detail::-webkit-scrollbar-track {
      background: transparent;
    }
    .crew-list::-webkit-scrollbar-thumb,
    .crew-detail::-webkit-scrollbar-thumb {
      background: #e4e4e7;
      border-radius: 3px;
    }
    .crew-list::-webkit-scrollbar-thumb:hover,
    .crew-detail::-webkit-scrollbar-thumb:hover {
      background: #d4d4d8;
    }
  </style>
</head>
<body>

  <!--
    ================================================================
    Phase 7b — Crew Management Desktop Mockup
    ================================================================
    Master-detail workspace for crew member CRUD.
    Direction A: near-black editorial, zinc palette, Inter font.

    Layout:
    - Simulated sidebar (240px, near-black)
    - PageHeader with breadcrumbs
    - Toolbar (search + create CTA)
    - Two-panel master-detail:
      - Left rail (280px, scrollable crew list)
      - Right canvas (selected crew detail w/ inline edit)
    - Create dialog overlay (toggled via demo button)
    ================================================================
  -->

  <!-- ════════════════════════════════════════════
       SIDEBAR
       ════════════════════════════════════════════ -->
  <aside class="app-sidebar">
    <div class="sidebar-logo">
      <div class="sidebar-logo-mark">S</div>
      <div class="sidebar-logo-text">Shot Builder</div>
    </div>

    <nav class="sidebar-nav">
      <div class="sidebar-section-label">Workspace</div>

      <a class="nav-item" href="#">
        <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955a1.126 1.126 0 011.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" /></svg>
        <span>Dashboard</span>
      </a>

      <a class="nav-item" href="#">
        <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z" /></svg>
        <span>Projects</span>
      </a>

      <div class="sidebar-section-label" style="margin-top: 24px;">Library</div>

      <a class="nav-item" href="#">
        <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 7.5l-.625 10.632a2.25 2.25 0 01-2.247 2.118H6.622a2.25 2.25 0 01-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125z" /></svg>
        <span>Products</span>
      </a>

      <a class="nav-item" href="#">
        <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z" /></svg>
        <span>Talent</span>
      </a>

      <a class="nav-item active" href="#">
        <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z" /></svg>
        <span>Crew</span>
      </a>

      <a class="nav-item" href="#">
        <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z" /></svg>
        <span>Locations</span>
      </a>

      <a class="nav-item" href="#">
        <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M4.098 19.902a3.75 3.75 0 005.304 0l6.401-6.402M6.75 21A3.75 3.75 0 013 17.25V4.125C3 3.504 3.504 3 4.125 3h5.25c.621 0 1.125.504 1.125 1.125v4.072M6.75 21a3.75 3.75 0 003.75-3.75V8.197M6.75 21h13.125c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-4.072M10.5 8.197l2.88-2.88c.438-.439 1.15-.439 1.59 0l3.712 3.713c.44.44.44 1.152 0 1.59l-2.879 2.88M6.75 17.25h.008v.008H6.75v-.008z" /></svg>
        <span>Palette</span>
      </a>
    </nav>

    <div class="sidebar-user">
      <div class="sidebar-avatar">TG</div>
      <div>
        <div class="sidebar-user-name">Ted Ghanime</div>
        <div class="sidebar-user-role">Producer</div>
      </div>
    </div>
  </aside>


  <!-- ════════════════════════════════════════════
       MAIN CONTENT
       ════════════════════════════════════════════ -->
  <main class="main-content">

    <!-- Page Header -->
    <div class="page-header">
      <div class="breadcrumb">
        <a href="#">Library</a>
        <span class="breadcrumb-sep">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg>
        </span>
        <span class="breadcrumb-current">Crew</span>
      </div>
      <h1 class="page-title">Crew</h1>
    </div>

    <!-- Toolbar -->
    <div class="toolbar">
      <div class="search-wrapper">
        <svg class="search-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
        <input class="search-input" type="text" placeholder="Search crew members..." />
      </div>
      <button class="btn-primary" onclick="toggleModal()">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
        New Crew Member
      </button>
    </div>

    <!-- Master-Detail Panel -->
    <div class="master-detail">

      <!-- ── Left Rail: Crew List ── -->
      <div class="crew-list">
        <div class="crew-list-header">10 members</div>

        <div class="crew-item" onclick="selectCrew(this, 0)">
          <div class="crew-item-name">Sarah Anderson</div>
          <div class="crew-item-meta">
            <span>Lighting</span>
            <span class="dot"></span>
            <span>Gaffer</span>
          </div>
          <div class="crew-item-email">s.anderson@lightco.com</div>
        </div>

        <div class="crew-item" onclick="selectCrew(this, 1)">
          <div class="crew-item-name">Marcus Chen</div>
          <div class="crew-item-meta">
            <span>Camera</span>
            <span class="dot"></span>
            <span>Director of Photography</span>
          </div>
          <div class="crew-item-email">m.chen@studioworks.com</div>
        </div>

        <div class="crew-item selected" onclick="selectCrew(this, 2)">
          <div class="crew-item-name">Elena Duval</div>
          <div class="crew-item-meta">
            <span>Styling</span>
            <span class="dot"></span>
            <span>Lead Stylist</span>
          </div>
          <div class="crew-item-email">elena@duvalstudio.com</div>
        </div>

        <div class="crew-item" onclick="selectCrew(this, 3)">
          <div class="crew-item-name">James Fitzgerald</div>
          <div class="crew-item-meta">
            <span>Production</span>
            <span class="dot"></span>
            <span>Producer</span>
          </div>
          <div class="crew-item-email">j.fitzgerald@prodmgmt.com</div>
        </div>

        <div class="crew-item" onclick="selectCrew(this, 4)">
          <div class="crew-item-name">Aiko Hayashi</div>
          <div class="crew-item-meta">
            <span>Art</span>
            <span class="dot"></span>
            <span>Set Designer</span>
          </div>
        </div>

        <div class="crew-item" onclick="selectCrew(this, 5)">
          <div class="crew-item-name">David Kim</div>
          <div class="crew-item-meta">
            <span>Camera</span>
            <span class="dot"></span>
            <span>Focus Puller</span>
          </div>
          <div class="crew-item-email">d.kim@cameraops.co</div>
        </div>

        <div class="crew-item" onclick="selectCrew(this, 6)">
          <div class="crew-item-name">Lucia Morales</div>
          <div class="crew-item-meta">
            <span>Hair &amp; Makeup</span>
            <span class="dot"></span>
            <span>Key MUA</span>
          </div>
          <div class="crew-item-email">lucia.m@beautyworks.com</div>
        </div>

        <div class="crew-item" onclick="selectCrew(this, 7)">
          <div class="crew-item-name">Patrick O'Brien</div>
          <div class="crew-item-meta">
            <span>Grip</span>
            <span class="dot"></span>
            <span>Key Grip</span>
          </div>
        </div>

        <div class="crew-item" onclick="selectCrew(this, 8)">
          <div class="crew-item-name">Nina Petrova</div>
          <div class="crew-item-meta">
            <span>Styling</span>
            <span class="dot"></span>
            <span>Wardrobe Assistant</span>
          </div>
          <div class="crew-item-email">nina.p@styleassist.com</div>
        </div>

        <div class="crew-item" onclick="selectCrew(this, 9)">
          <div class="crew-item-name">Tom Reeves</div>
          <div class="crew-item-meta">
            <span>Production</span>
            <span class="dot"></span>
            <span>Production Assistant</span>
          </div>
          <div class="crew-item-email">tom@reeves.co</div>
        </div>
      </div>


      <!-- ── Right Canvas: Crew Detail ── -->
      <div class="crew-detail" id="detail-panel">

        <!-- Detail Header -->
        <div class="detail-header">
          <h2 class="detail-name" id="detail-name">Elena Duval</h2>
          <div class="detail-badges" id="detail-badges">
            <span class="badge badge-department">Styling</span>
            <span class="badge badge-position">Lead Stylist</span>
          </div>
        </div>

        <!-- Detail Body -->
        <div class="detail-body">

          <!-- Contact Information -->
          <div class="detail-section-title">Contact Information</div>
          <div class="info-grid" id="detail-grid">

            <!-- Email -->
            <div class="info-field">
              <div class="info-field-group">
                <svg class="info-field-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75" /></svg>
                <div class="info-field-content">
                  <div class="info-label">Email</div>
                  <div class="info-value">
                    <a href="mailto:elena@duvalstudio.com">elena@duvalstudio.com</a>
                    <svg class="edit-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487z" /></svg>
                  </div>
                </div>
              </div>
            </div>

            <!-- Phone -->
            <div class="info-field">
              <div class="info-field-group">
                <svg class="info-field-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z" /></svg>
                <div class="info-field-content">
                  <div class="info-label">Phone</div>
                  <div class="info-value">
                    +1 (514) 555-0178
                    <svg class="edit-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487z" /></svg>
                  </div>
                </div>
              </div>
            </div>

            <!-- Company -->
            <div class="info-field">
              <div class="info-field-group">
                <svg class="info-field-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21" /></svg>
                <div class="info-field-content">
                  <div class="info-label">Company</div>
                  <div class="info-value">
                    Duval Studio
                    <svg class="edit-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487z" /></svg>
                  </div>
                </div>
              </div>
            </div>

            <!-- Department -->
            <div class="info-field">
              <div class="info-field-group">
                <svg class="info-field-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0" /></svg>
                <div class="info-field-content">
                  <div class="info-label">Department</div>
                  <div class="info-value">
                    Styling
                    <svg class="edit-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487z" /></svg>
                  </div>
                </div>
              </div>
            </div>

            <!-- Position -->
            <div class="info-field">
              <div class="info-field-group">
                <svg class="info-field-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" /></svg>
                <div class="info-field-content">
                  <div class="info-label">Position</div>
                  <div class="info-value">
                    Lead Stylist
                    <svg class="edit-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487z" /></svg>
                  </div>
                </div>
              </div>
            </div>

            <!-- Rate (optional, empty) -->
            <div class="info-field">
              <div class="info-field-group">
                <svg class="info-field-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                <div class="info-field-content">
                  <div class="info-label">Day Rate</div>
                  <div class="info-value">
                    <span class="info-value-empty">Not set</span>
                    <svg class="edit-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487z" /></svg>
                  </div>
                </div>
              </div>
            </div>

          </div>

          <!-- Notes -->
          <div class="notes-section">
            <div class="detail-section-title">Notes</div>
            <div class="notes-read-mode" id="notes-area">
              Elena specializes in high-fashion editorial styling with over 12 years of experience. Preferred vendor for all Immediate Group campaigns. Has her own wardrobe truck and can provide on-set steaming and alterations. Typically brings one assistant.
            </div>
          </div>

          <!-- Projects assigned (read-only list) -->
          <div style="margin-bottom: 32px;">
            <div class="detail-section-title">Recent Projects</div>
            <div style="display: flex; flex-direction: column; gap: 8px;">
              <div style="display: flex; align-items: center; justify-content: space-between; padding: 10px 14px; background: #f4f4f5; border-radius: 8px;">
                <div>
                  <div style="font-size: 14px; font-weight: 500; color: #18181b;">SS26 Campaign</div>
                  <div style="font-size: 12px; color: #71717a;">8 shots assigned</div>
                </div>
                <span class="badge" style="background: #ecfdf5; color: #047857; border-color: #a7f3d0;">Shot</span>
              </div>
              <div style="display: flex; align-items: center; justify-content: space-between; padding: 10px 14px; background: #f4f4f5; border-radius: 8px;">
                <div>
                  <div style="font-size: 14px; font-weight: 500; color: #18181b;">Resort 2026 Lookbook</div>
                  <div style="font-size: 12px; color: #71717a;">14 shots assigned</div>
                </div>
                <span class="badge" style="background: #eff6ff; color: #1d4ed8; border-color: #bfdbfe;">In Progress</span>
              </div>
              <div style="display: flex; align-items: center; justify-content: space-between; padding: 10px 14px; background: #f4f4f5; border-radius: 8px;">
                <div>
                  <div style="font-size: 14px; font-weight: 500; color: #18181b;">Holiday Gift Guide 2025</div>
                  <div style="font-size: 12px; color: #71717a;">6 shots assigned</div>
                </div>
                <span class="badge" style="background: #ecfdf5; color: #047857; border-color: #a7f3d0;">Shot</span>
              </div>
            </div>
          </div>

        </div>

        <!-- Detail Footer -->
        <div class="detail-footer">
          <div class="detail-timestamp">
            <span>Last updated Feb 14, 2026</span>
          </div>
          <button class="btn-danger">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
            Delete Member
          </button>
        </div>

      </div>

    </div>

  </main>


  <!-- ════════════════════════════════════════════
       CREATE MODAL
       ════════════════════════════════════════════ -->
  <div class="modal-overlay hidden" id="create-modal" onclick="if(event.target===this)toggleModal()">
    <div class="modal">

      <div class="modal-header">
        <h3 class="modal-title">New Crew Member</h3>
        <p class="modal-description">Add a crew member to your library. They can be assigned to projects later.</p>
      </div>

      <div class="modal-body">
        <!-- Name row -->
        <div class="form-row-double">
          <div>
            <label class="form-label">First Name <span class="required">*</span></label>
            <input class="form-input" type="text" placeholder="e.g. Sarah" />
          </div>
          <div>
            <label class="form-label">Last Name <span class="required">*</span></label>
            <input class="form-input" type="text" placeholder="e.g. Anderson" />
          </div>
        </div>

        <!-- Department + Position -->
        <div class="form-row-double">
          <div>
            <label class="form-label">Department</label>
            <select class="form-select">
              <option value="" disabled selected>Select department...</option>
              <option>Art</option>
              <option>Camera</option>
              <option>Grip</option>
              <option>Hair &amp; Makeup</option>
              <option>Lighting</option>
              <option>Production</option>
              <option>Styling</option>
              <option>Wardrobe</option>
            </select>
          </div>
          <div>
            <label class="form-label">Position</label>
            <select class="form-select">
              <option value="" disabled selected>Select position...</option>
              <option>Director of Photography</option>
              <option>Focus Puller</option>
              <option>Gaffer</option>
              <option>Key Grip</option>
              <option>Key MUA</option>
              <option>Lead Stylist</option>
              <option>Producer</option>
              <option>Production Assistant</option>
              <option>Set Designer</option>
              <option>Wardrobe Assistant</option>
            </select>
          </div>
        </div>

        <!-- Email -->
        <div class="form-row">
          <label class="form-label">Email</label>
          <input class="form-input" type="email" placeholder="name@company.com" />
        </div>

        <!-- Phone -->
        <div class="form-row">
          <label class="form-label">Phone</label>
          <input class="form-input" type="tel" placeholder="+1 (555) 000-0000" />
        </div>

        <!-- Company -->
        <div class="form-row">
          <label class="form-label">Company</label>
          <input class="form-input" type="text" placeholder="Company or agency name" />
        </div>

        <!-- Notes -->
        <div class="form-row">
          <label class="form-label">Notes</label>
          <textarea class="form-textarea" placeholder="Equipment, specialties, availability preferences..."></textarea>
        </div>
      </div>

      <div class="modal-footer">
        <button class="btn-secondary" onclick="toggleModal()">Cancel</button>
        <button class="btn-primary">Create</button>
      </div>

    </div>
  </div>


  <!-- ════════════════════════════════════════════
       DEMO CONTROLS
       ════════════════════════════════════════════ -->
  <div class="demo-toggle">
    <button class="demo-btn" id="toggle-modal-btn" onclick="toggleModal()">Toggle Create Dialog</button>
  </div>


  <!-- ════════════════════════════════════════════
       JAVASCRIPT
       ════════════════════════════════════════════ -->
  <script>
    // Crew data for detail panel switching
    const crewData = [
      {
        name: 'Sarah Anderson',
        department: 'Lighting',
        position: 'Gaffer',
        email: 's.anderson@lightco.com',
        phone: '+1 (323) 555-0142',
        company: 'Light Co.',
        notes: 'Expert in natural-light setups and large-scale studio rigs. Brings her own grip and electrical truck. Preferred for all outdoor campaign shoots.',
        updated: 'Jan 28, 2026',
        projects: [
          { name: 'SS26 Campaign', shots: 12, status: 'Shot', statusColor: 'green' },
          { name: 'FW25 E-Commerce', shots: 40, status: 'Shot', statusColor: 'green' },
        ]
      },
      {
        name: 'Marcus Chen',
        department: 'Camera',
        position: 'Director of Photography',
        email: 'm.chen@studioworks.com',
        phone: '+1 (212) 555-0319',
        company: 'StudioWorks',
        notes: 'Award-winning DP with 15+ years in fashion and beauty. Shoots on ARRI Alexa and RED V-Raptor. Available for travel. Rate includes camera package.',
        updated: 'Feb 10, 2026',
        projects: [
          { name: 'Resort 2026 Lookbook', shots: 14, status: 'In Progress', statusColor: 'blue' },
          { name: 'SS26 Campaign', shots: 12, status: 'Shot', statusColor: 'green' },
        ]
      },
      {
        name: 'Elena Duval',
        department: 'Styling',
        position: 'Lead Stylist',
        email: 'elena@duvalstudio.com',
        phone: '+1 (514) 555-0178',
        company: 'Duval Studio',
        notes: 'Elena specializes in high-fashion editorial styling with over 12 years of experience. Preferred vendor for all Immediate Group campaigns. Has her own wardrobe truck and can provide on-set steaming and alterations. Typically brings one assistant.',
        updated: 'Feb 14, 2026',
        projects: [
          { name: 'SS26 Campaign', shots: 8, status: 'Shot', statusColor: 'green' },
          { name: 'Resort 2026 Lookbook', shots: 14, status: 'In Progress', statusColor: 'blue' },
          { name: 'Holiday Gift Guide 2025', shots: 6, status: 'Shot', statusColor: 'green' },
        ]
      },
      {
        name: 'James Fitzgerald',
        department: 'Production',
        position: 'Producer',
        email: 'j.fitzgerald@prodmgmt.com',
        phone: '+1 (310) 555-0267',
        company: 'ProdMgmt Inc.',
        notes: 'Full-service production management. Handles permits, catering, transport, and crew call sheets. Minimum 2-day bookings.',
        updated: 'Feb 8, 2026',
        projects: [
          { name: 'Resort 2026 Lookbook', shots: 14, status: 'In Progress', statusColor: 'blue' },
        ]
      },
      {
        name: 'Aiko Hayashi',
        department: 'Art',
        position: 'Set Designer',
        email: '',
        phone: '+1 (415) 555-0198',
        company: '',
        notes: '',
        updated: 'Dec 3, 2025',
        projects: [
          { name: 'FW25 E-Commerce', shots: 40, status: 'Shot', statusColor: 'green' },
        ]
      },
      {
        name: 'David Kim',
        department: 'Camera',
        position: 'Focus Puller',
        email: 'd.kim@cameraops.co',
        phone: '+1 (917) 555-0254',
        company: 'CameraOps',
        notes: 'Works primarily with Marcus Chen as 1st AC. Certified on Preston FIZ and Tilta Nucleus. Brings his own wireless follow focus kit.',
        updated: 'Feb 12, 2026',
        projects: [
          { name: 'Resort 2026 Lookbook', shots: 14, status: 'In Progress', statusColor: 'blue' },
          { name: 'SS26 Campaign', shots: 12, status: 'Shot', statusColor: 'green' },
        ]
      },
      {
        name: 'Lucia Morales',
        department: 'Hair & Makeup',
        position: 'Key MUA',
        email: 'lucia.m@beautyworks.com',
        phone: '+1 (646) 555-0371',
        company: 'BeautyWorks',
        notes: 'Specializes in editorial and beauty-focused makeup. Provides her own kit including airbrush equipment. Can also handle hair if needed for smaller shoots.',
        updated: 'Feb 6, 2026',
        projects: [
          { name: 'SS26 Campaign', shots: 8, status: 'Shot', statusColor: 'green' },
        ]
      },
      {
        name: "Patrick O'Brien",
        department: 'Grip',
        position: 'Key Grip',
        email: '',
        phone: '+1 (818) 555-0425',
        company: '',
        notes: 'On-call grip with own 3-ton truck. Carries full C-stand kit, scrims, and rigging equipment. Prefers 10-hour day minimums.',
        updated: 'Jan 15, 2026',
        projects: []
      },
      {
        name: 'Nina Petrova',
        department: 'Styling',
        position: 'Wardrobe Assistant',
        email: 'nina.p@styleassist.com',
        phone: '+1 (514) 555-0291',
        company: 'Style Assist',
        notes: 'Works under Elena Duval. Handles garment prep, steaming, returns, and on-set quick fixes. Very detail-oriented.',
        updated: 'Feb 2, 2026',
        projects: [
          { name: 'Resort 2026 Lookbook', shots: 14, status: 'In Progress', statusColor: 'blue' },
        ]
      },
      {
        name: 'Tom Reeves',
        department: 'Production',
        position: 'Production Assistant',
        email: 'tom@reeves.co',
        phone: '+1 (438) 555-0133',
        company: '',
        notes: '',
        updated: 'Jan 20, 2026',
        projects: [
          { name: 'Resort 2026 Lookbook', shots: 14, status: 'In Progress', statusColor: 'blue' },
        ]
      },
    ];

    function selectCrew(el, index) {
      // Update list selection
      document.querySelectorAll('.crew-item').forEach(item => item.classList.remove('selected'));
      el.classList.add('selected');

      // Update detail panel
      const crew = crewData[index];
      document.getElementById('detail-name').textContent = crew.name;

      // Badges
      const badgesEl = document.getElementById('detail-badges');
      badgesEl.innerHTML = '';
      if (crew.department) {
        badgesEl.innerHTML += '<span class="badge badge-department">' + crew.department + '</span>';
      }
      if (crew.position) {
        badgesEl.innerHTML += '<span class="badge badge-position">' + crew.position + '</span>';
      }

      // Info grid
      const gridEl = document.getElementById('detail-grid');
      gridEl.innerHTML = buildInfoField('email', 'Email', crew.email ? '<a href="mailto:' + crew.email + '">' + crew.email + '</a>' : '', 'M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75')
        + buildInfoField('phone', 'Phone', crew.phone, 'M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z')
        + buildInfoField('company', 'Company', crew.company, 'M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21')
        + buildInfoField('department', 'Department', crew.department, 'M20.25 14.15v4.25c0 1.094-.787 2.036-1.872 2.18-2.087.277-4.216.42-6.378.42s-4.291-.143-6.378-.42c-1.085-.144-1.872-1.086-1.872-2.18v-4.25m16.5 0a2.18 2.18 0 00.75-1.661V8.706c0-1.081-.768-2.015-1.837-2.175a48.114 48.114 0 00-3.413-.387m4.5 8.006c-.194.165-.42.295-.673.38A23.978 23.978 0 0112 15.75c-2.648 0-5.195-.429-7.577-1.22a2.016 2.016 0 01-.673-.38m0 0A2.18 2.18 0 013 12.489V8.706c0-1.081.768-2.015 1.837-2.175a48.111 48.111 0 013.413-.387m7.5 0V5.25A2.25 2.25 0 0013.5 3h-3a2.25 2.25 0 00-2.25 2.25v.894m7.5 0a48.667 48.667 0 00-7.5 0')
        + buildInfoField('position', 'Position', crew.position, 'M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z')
        + buildInfoField('rate', 'Day Rate', '', 'M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z');

      // Notes
      const notesEl = document.getElementById('notes-area');
      if (crew.notes) {
        notesEl.innerHTML = crew.notes;
        notesEl.classList.remove('notes-placeholder');
      } else {
        notesEl.innerHTML = '<span class="notes-placeholder">Click to add notes...</span>';
      }

      // Projects
      const projectsSection = document.querySelector('.detail-body > div:last-of-type');
      if (crew.projects && crew.projects.length > 0) {
        let projectsHtml = '<div class="detail-section-title">Recent Projects</div><div style="display:flex;flex-direction:column;gap:8px;">';
        crew.projects.forEach(function(p) {
          const statusBg = p.statusColor === 'green' ? '#ecfdf5' : '#eff6ff';
          const statusText = p.statusColor === 'green' ? '#047857' : '#1d4ed8';
          const statusBorder = p.statusColor === 'green' ? '#a7f3d0' : '#bfdbfe';
          projectsHtml += '<div style="display:flex;align-items:center;justify-content:space-between;padding:10px 14px;background:#f4f4f5;border-radius:8px;">'
            + '<div><div style="font-size:14px;font-weight:500;color:#18181b;">' + p.name + '</div>'
            + '<div style="font-size:12px;color:#71717a;">' + p.shots + ' shots assigned</div></div>'
            + '<span class="badge" style="background:' + statusBg + ';color:' + statusText + ';border-color:' + statusBorder + ';">' + p.status + '</span></div>';
        });
        projectsHtml += '</div>';
        projectsSection.innerHTML = projectsHtml;
      } else {
        projectsSection.innerHTML = '<div class="detail-section-title">Recent Projects</div>'
          + '<div style="min-height:80px;display:flex;align-items:center;justify-content:center;border:1px dashed #e4e4e7;border-radius:8px;color:#a1a1aa;font-size:13px;font-style:italic;">No project assignments yet</div>';
      }

      // Timestamp
      document.querySelector('.detail-timestamp span').textContent = 'Last updated ' + crew.updated;
    }

    function buildInfoField(key, label, value, iconPath) {
      const editIconSvg = '<svg class="edit-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487z" /></svg>';
      const displayValue = value
        ? value + editIconSvg
        : '<span class="info-value-empty">Not set</span>' + editIconSvg;

      return '<div class="info-field">'
        + '<div class="info-field-group">'
        + '<svg class="info-field-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="' + iconPath + '" /></svg>'
        + '<div class="info-field-content">'
        + '<div class="info-label">' + label + '</div>'
        + '<div class="info-value">' + displayValue + '</div>'
        + '</div></div></div>';
    }

    function toggleModal() {
      const modal = document.getElementById('create-modal');
      const btn = document.getElementById('toggle-modal-btn');
      modal.classList.toggle('hidden');
      btn.classList.toggle('active');
    }
  </script>

</body>
</html>